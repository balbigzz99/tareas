<!DOCTYPE html> <!-- Declaración del tipo de documento HTML -->
<html lang="en-US"> <!-- Inicio del elemento HTML con atributo de idioma en inglés (Estados Unidos) -->
  <head>
    <meta charset="utf-8"/> <!-- Configuración de la codificación de caracteres a UTF-8 -->
    <title>Events: Task 2</title> <!-- Título del documento -->
    <style>
      p {
        color: purple; /* Establece el color del texto de los párrafos en púrpura */
        margin: 0.5em 0; /* Establece el margen superior e inferior de los párrafos */
      }

      * {
        box-sizing: border-box; /* Define el modelo de caja para todos los elementos */
      }

      canvas {
        border: 1px solid black; /* Establece un borde sólido de 1px en el lienzo */
      }
    </style>
    <link rel="stylesheet" href="../styles.css" /> <!-- Importa una hoja de estilos externa -->
  </head>

  <body>

    <section class="preview">
    </section>

    <canvas width="480" height="320" tabindex="0"> <!-- Lienzo con anchura y altura predefinidas y atributo tabindex para enfocar el lienzo -->

    </canvas>

  <script>
    const canvas = document.querySelector('canvas'); // Selecciona el lienzo
    const ctx = canvas.getContext('2d'); // Obtiene el contexto de dibujo 2D

    // Función para dibujar un círculo en el lienzo en las coordenadas dadas
    function drawCircle(x, y, size) {
      ctx.fillStyle = 'white'; // Establece el color de relleno en blanco
      ctx.fillRect(0, 0, canvas.width, canvas.height); // Rellena el lienzo con un rectángulo blanco

      ctx.beginPath(); // Inicia la ruta de dibujo
      ctx.fillStyle = 'black'; // Establece el color de relleno en negro
      ctx.arc(x, y, size, 0, 2 * Math.PI); // Dibuja un arco circular
      ctx.fill(); // Rellena el círculo
    }

    let x = 50; // Coordenada x inicial del círculo
    let y = 50; // Coordenada y inicial del círculo
    const size = 30; // Tamaño del círculo

    drawCircle(x, y, size); // Dibuja el círculo inicialmente

    // Event listener para detectar las teclas presionadas
    document.addEventListener('keydown', function(event) {
      // Mueve el círculo dependiendo de la tecla presionada
      switch (event.key) {
        case 'w': // Tecla W (arriba)
          y -= 10;
          break;
        case 'a': // Tecla A (izquierda)
          x -= 10;
          break;
        case 's': // Tecla S (abajo)
          y += 10;
          break;
        case 'd': // Tecla D (derecha)
          x += 10;
          break;
      }

      // Borra el lienzo y vuelve a dibujar el círculo en las nuevas coordenadas
      drawCircle(x, y, size);
    });
  </script>
  </body>
</html>